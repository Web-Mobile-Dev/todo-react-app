stages: 
    - build 
    - test
    - deploy

image: node:latest

before_script:
    - cd ToDoProject
    - npm i
    
cache: 
    paths: 
        - ToDoProject/build/

build:
    stage: build
    script: 
        - npm run build
    only:
        - merge_requests
        
test: 
    stage: test
    script: 
        - npm run test
    only:
        - merge_requests
        
deploy:
    stage: deploy
    script:
    - npm run build
    artifacts:
        name: "todo-app"
        paths:
        - ToDoProject/build/*
    only:
        - merge_requests